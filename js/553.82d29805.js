"use strict";(self["webpackChunktracker"]=self["webpackChunktracker"]||[]).push([[553],{1553:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var s=l(6768),t=l(144),d=l(4232),u=l(7719),n=l(7727);const r={class:"text-caption mt-1 pl-1"};var i={__name:"EditAccount",setup(e){const a=(0,u.k)(),l=(0,n.e)(),i=(0,t.KR)(null),o=(0,t.KR)(null),c=(0,t.KR)(a.userData.display_name),v=(0,t.KR)(!1),p=(0,t.KR)(null),b=(0,t.KR)(null),m=(0,t.KR)(null),f=(0,t.KR)(!1),k=(0,t.KR)(!1),y=(0,s.EW)((()=>/[A-Z]/.test(b.value))),_=(0,s.EW)((()=>/\d/.test(b.value))),g=(0,s.EW)((()=>!!(b.value&&b.value.length>=8))),F=(0,s.EW)((()=>null!=m.value&&b.value===m.value)),w=(0,t.Kh)({display_name:[e=>!!e||"A display name of some sort is required."],pass:[e=>!!e||"A password is required.",()=>y.value||"A bit stronger...",()=>_.value||"A bit stronger...",()=>g.value||"A bit stronger..."],confirm_pass:[()=>F.value||"Passwords do not match."],current_pass:[e=>!!e||"This field is required."]}),h=async()=>{const{valid:e}=await i.value.validate();if(!e)return;v.value=!0;let s=await a.updateDisplayName(c.value);s.success?l.addSnackbar("Display name updated successfully!","green",5e3):l.addSnackbar("There was a problem updating your display name. Please try again.","red",-1),v.value=!1},C=async()=>{const{valid:e}=await o.value.validate();if(!e)return;f.value=!0;let s=await a.updatePassword(b.value,p.value);s.success?l.addSnackbar("Password updated!","green",5e3):l.addSnackbar(s.message,"red",-1),f.value=!1};return(e,l)=>{const u=(0,s.g2)("v-card-title"),n=(0,s.g2)("v-text-field"),F=(0,s.g2)("v-col"),x=(0,s.g2)("v-btn"),V=(0,s.g2)("v-row"),A=(0,s.g2)("v-form"),K=(0,s.g2)("v-card-text"),R=(0,s.g2)("v-divider"),P=(0,s.g2)("v-spacer"),W=(0,s.g2)("v-card-actions"),D=(0,s.g2)("v-card"),E=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(E,null,{default:(0,s.k6)((()=>[(0,s.bF)(D,{class:"pa-4",elevation:"2"},{default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>l[6]||(l[6]=[(0,s.eW)("Edit Account")]))),_:1}),(0,s.bF)(K,null,{default:(0,s.k6)((()=>[(0,s.bF)(A,{ref_key:"newDisplayForm",ref:i},{default:(0,s.k6)((()=>[(0,s.bF)(V,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.bF)(F,{cols:"12",md:"8",class:"pb-2"},{default:(0,s.k6)((()=>[(0,s.bF)(n,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),label:"Display Name",variant:"outlined",disabled:v.value,rules:w.display_name,"persistent-hint":"",hint:"Current display name: "+(0,t.R1)(a).userData.display_name},null,8,["modelValue","disabled","rules","hint"])])),_:1}),(0,s.bF)(F,{cols:"12",class:"pt-0 text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{color:"primary",onClick:h,variant:"outlined",loading:v.value,disabled:v.value},{default:(0,s.k6)((()=>l[7]||(l[7]=[(0,s.eW)("Change Display Name")]))),_:1},8,["loading","disabled"])])),_:1})])),_:1})])),_:1},512)])),_:1}),(0,s.bF)(R,{class:"my-4"}),(0,s.bF)(K,null,{default:(0,s.k6)((()=>[(0,s.bF)(A,{ref_key:"newPassForm",ref:o},{default:(0,s.k6)((()=>[(0,s.bF)(V,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.bF)(F,{cols:"12",md:"8",class:"py-0"},{default:(0,s.k6)((()=>[(0,s.bF)(n,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),label:"Current Password",variant:"outlined",disabled:f.value,"append-inner-icon":k.value?"mdi mdi-eye-closed":"mdi mdi-eye-outline",type:k.value?"text":"password","onClick:appendInner":l[2]||(l[2]=e=>k.value=!k.value)},null,8,["modelValue","disabled","append-inner-icon","type"])])),_:1}),(0,s.bF)(F,{cols:"12",md:"8",class:"pt-0"},{default:(0,s.k6)((()=>[(0,s.bF)(n,{modelValue:b.value,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value=e),label:"New Password",variant:"outlined",disabled:f.value,"hide-details":"",rules:w.pass,"append-inner-icon":k.value?"mdi mdi-eye-closed":"mdi mdi-eye-outline",type:k.value?"text":"password","onClick:appendInner":l[4]||(l[4]=e=>k.value=!k.value)},null,8,["modelValue","disabled","rules","append-inner-icon","type"]),(0,s.Lk)("div",r,[(0,s.Lk)("div",{class:(0,d.C4)(y.value?"text-success":"text-error")}," At least one capital letter ",2),(0,s.Lk)("div",{class:(0,d.C4)(_.value?"text-success":"text-error")}," At least one number ",2),(0,s.Lk)("div",{class:(0,d.C4)(g.value?"text-success":"text-error")}," At least 8 characters long ",2)])])),_:1}),(0,s.bF)(F,{cols:"12",md:"8",class:"py-0"},{default:(0,s.k6)((()=>[(0,s.bF)(n,{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=e=>m.value=e),type:"password",label:"Confirm New Password",variant:"outlined",disabled:f.value,rules:w.confirm_pass},null,8,["modelValue","disabled","rules"])])),_:1}),(0,s.bF)(F,{cols:"12",class:"pt-0 text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{color:"primary",variant:"outlined",onClick:C,loading:f.value,disabled:f.value},{default:(0,s.k6)((()=>l[8]||(l[8]=[(0,s.eW)(" Change Password ")]))),_:1},8,["loading","disabled"])])),_:1})])),_:1})])),_:1},512)])),_:1}),(0,s.bF)(W,null,{default:(0,s.k6)((()=>[(0,s.bF)(P)])),_:1})])),_:1})])),_:1})}}};const o=i;var c=o}}]);
//# sourceMappingURL=553.82d29805.js.map