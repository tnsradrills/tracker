(function(){var e={477:function(){},4323:function(e,t,n){"use strict";var r=n(5130),a=n(2261),s=(n(5524),n(5753)),o=n(6202),i=n(3425),u=n(6768),c=n(144),l=n(4232),d=n(7727),f=n(1387);const p={class:"snackbar-container d-flex flex-xolum flex-column-reverse"};var m={__name:"SnackbarComp",setup(e){const t=(0,f.lq)(),n=(0,d.e)(),a=(0,u.EW)((()=>t.fullPath));return(0,u.wB)(a,((e,t)=>{e!==t&&n.clearSnackbars()})),(e,t)=>{const a=(0,u.g2)("v-btn"),s=(0,u.g2)("v-snackbar");return(0,u.uX)(),(0,u.CE)("div",p,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,c.R1)(n).snackbars,(e=>((0,u.uX)(),(0,u.Wv)(s,{key:e.id,modelValue:e.show,"onUpdate:modelValue":t=>e.show=t,timeout:e.timeout,color:e.color,absolute:""},{actions:(0,u.k6)((()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.buttons,(e=>((0,u.uX)(),(0,u.Wv)(a,{key:e.id,onClick:(0,r.D$)(e.action,["stop"]),color:e.color,variant:"text"},{default:(0,u.k6)((()=>[(0,u.eW)((0,l.v_)(e.text),1)])),_:2},1032,["onClick","color"])))),128))])),default:(0,u.k6)((()=>[(0,u.eW)((0,l.v_)(e.message)+" ",1)])),_:2},1032,["modelValue","onUpdate:modelValue","timeout","color"])))),128))])}}},h=n(1241);const v=(0,h.A)(m,[["__scopeId","data-v-8b4c5938"]]);var b=v,g=(n(4114),n(7719)),y=n(9648);const _={class:"text-h5"};var k={__name:"NavBar",setup(e){const t=(0,f.rd)(),n=(0,f.lq)(),r=(0,g.k)(),a=[{title:"Dashboard",name:"Dashboard",icon:"mdi-view-dashboard"},{title:"Record New Run",name:"Record New",icon:"mdi-plus"},{title:"Leaderboards",name:"Leaderboard",icon:"mdi-trophy"}],s=async()=>{await r.signOut(),t.push("/")};return(e,o)=>{const i=(0,u.g2)("v-img"),d=(0,u.g2)("v-app-bar-title"),f=(0,u.g2)("v-spacer"),p=(0,u.g2)("v-icon"),m=(0,u.g2)("v-btn"),h=(0,u.g2)("v-avatar"),v=(0,u.g2)("v-list-item"),b=(0,u.g2)("v-divider"),g=(0,u.g2)("v-list-item-title"),k=(0,u.g2)("v-list"),w=(0,u.g2)("v-menu"),N=(0,u.g2)("v-app-bar");return(0,u.uX)(),(0,u.Wv)(N,{app:"",class:"app-bar-gradient"},{default:(0,u.k6)((()=>[(0,u.bF)(d,{class:"text-white"},{default:(0,u.k6)((()=>[(0,u.bF)(i,{style:{display:"inline-block","margin-top":"3px"},src:(0,c.R1)(y),width:"3.5rem"},null,8,["src"]),o[1]||(o[1]=(0,u.Lk)("div",{class:"ml-4",style:{display:"inline-block","margin-top":"22px",position:"absolute"}}," Progress Tracker ",-1))])),_:1}),(0,u.bF)(f),(0,u.bF)(w,{"offset-y":""},{activator:(0,u.k6)((({props:e})=>[(0,u.bF)(m,(0,u.v6)({class:"text-white",icon:""},e),{default:(0,u.k6)((()=>[(0,u.bF)(p,null,{default:(0,u.k6)((()=>o[2]||(o[2]=[(0,u.eW)("mdi-menu")]))),_:1})])),_:2},1040)])),default:(0,u.k6)((()=>[(0,u.bF)(k,null,{default:(0,u.k6)((()=>[(0,u.bF)(v,{onClick:o[0]||(o[0]=e=>(0,c.R1)(t).push({name:"Edit Account"}))},{default:(0,u.k6)((()=>[(0,u.Lk)("div",null,[(0,u.bF)(h,{color:"grey-darken-1",class:"mr-2"},{default:(0,u.k6)((()=>[(0,u.Lk)("span",_,(0,l.v_)((0,c.R1)(r).userData.display_name?(0,c.R1)(r).userData.display_name[0].toUpperCase():""),1)])),_:1}),o[3]||(o[3]=(0,u.Lk)("span",null,"Update Account",-1))])])),_:1}),(0,u.bF)(b),((0,u.uX)(),(0,u.CE)(u.FK,null,(0,u.pI)(a,((e,r)=>(0,u.bF)(v,{key:r,to:e.path,onClick:n=>(0,c.R1)(t).push({name:e.name}),active:(0,c.R1)(n).path==e.path,disabled:(0,c.R1)(n).path==e.path,"active-color":"blue-darken-4"},{default:(0,u.k6)((()=>[(0,u.bF)(g,null,{default:(0,u.k6)((()=>[(0,u.bF)(p,null,{default:(0,u.k6)((()=>[(0,u.eW)((0,l.v_)(e.icon),1)])),_:2},1024),(0,u.eW)(" "+(0,l.v_)(e.title),1)])),_:2},1024)])),_:2},1032,["to","onClick","active","disabled"]))),64)),(0,u.bF)(b,{class:"my-1"}),(0,u.bF)(v,{onClick:s},{default:(0,u.k6)((()=>[(0,u.bF)(g,null,{default:(0,u.k6)((()=>[(0,u.bF)(p,null,{default:(0,u.k6)((()=>o[4]||(o[4]=[(0,u.eW)("mdi mdi-logout")]))),_:1}),o[5]||(o[5]=(0,u.eW)(" Logout "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};const w=(0,h.A)(k,[["__scopeId","data-v-746f8410"]]);var N=w,x={__name:"App",setup(e){const t=(0,f.lq)(),n=(0,g.k)();return(0,u.sV)((()=>{n.initAuth()})),(e,r)=>{const a=(0,u.g2)("router-view"),s=(0,u.g2)("v-slide-y-transition"),o=(0,u.g2)("v-main"),i=(0,u.g2)("v-app");return(0,u.uX)(),(0,u.Wv)(i,null,{default:(0,u.k6)((()=>[(0,c.R1)(n).userData?.id&&""!==(0,c.R1)(t).fullPath?((0,u.uX)(),(0,u.Wv)(N,{key:0})):(0,u.Q3)("",!0),(0,u.bF)(o,null,{default:(0,u.k6)((()=>[(0,c.R1)(n).userData?.id?((0,u.uX)(),(0,u.Wv)(s,{key:0,mode:"out-in"},{default:(0,u.k6)((()=>[((0,u.uX)(),(0,u.Wv)(a,{key:(0,c.R1)(t).fullPath}))])),_:1})):((0,u.uX)(),(0,u.Wv)(a,{key:(0,c.R1)(t).fullPath}))])),_:1}),(0,u.bF)(b)])),_:1})}}};const O=x;var C=O,E=n(7082);const F=[{path:"/",name:"Welcome",component:()=>n.e(681).then(n.bind(n,6681)),meta:{guestOnly:!0}},{path:"/dashboard",name:"Dashboard",component:()=>n.e(311).then(n.bind(n,6311)),meta:{requiresAuth:!0}},{path:"/leaderboard",name:"Leaderboard",component:()=>n.e(359).then(n.bind(n,5359)),meta:{requiresAuth:!0}},{path:"/record-new",name:"Record New",component:()=>n.e(593).then(n.bind(n,4593)),meta:{requiresAuth:!0}},{path:"/edit-account",name:"Edit Account",component:()=>n.e(553).then(n.bind(n,1553)),meta:{requiresAuth:!0}}],A=(0,f.aE)({history:(0,f.Bt)(),routes:F});var R=A;A.beforeEach((async(e,t,n)=>{const{data:r}=await E.N.auth.getSession(),a=!!r.session;e.meta.requiresAuth&&!a?n({path:"/"}):e.meta.guestOnly&&a?n({path:"/dashboard"}):n()}));const I=(0,s.$N)({components:o,directives:i}),S=(0,a.Ey)();(0,r.Ef)(C).use(R).use(I).use(S).mount("#app")},7082:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(9119);const a=(0,r.UU)("https://zjfnlefaqumhtnexmvgt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpqZm5sZWZhcXVtaHRuZXhtdmd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzMTA1NzQsImV4cCI6MjA1OTg4NjU3NH0.RYZFk17R9E7raNZHRExEYA84MtnrECiXOTMf639MOF8")},7719:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r=n(2261),a=n(144),s=n(6768),o=n(7082),i=n(3169),u=n.n(i);const c=(0,r.nY)("user",(()=>{const e=(0,a.Kh)({id:null,alt:null,username:null,display_name:null,region_id:null,runs:[]}),t=e=>{const t=u().SHA256(e).toString(u().enc.Hex);return`${t.slice(0,20)}`},n=async(n,r)=>{const a=t(n),s=`${a}@placeholder.xyz`,{data:i,error:u}=await o.N.auth.signInWithPassword({email:s,password:r});return u?"invalid_credentials"==u.code?{success:!1,message:"That name / password combination was not found."}:{success:!1,message:u.message}:(e.id=i.user.id,e.username=a,await d(),{success:!0})},r=async(n,r,a,s)=>{const i=t(n),u=`${i}@placeholder.xyz`,{data:c,error:l}=await o.N.auth.signUp({email:u,password:a});if(l)return"user_already_exists"==l.code?{success:!1,message:"That discord name is already in use."}:{success:!1,message:"There was a problem with user creation."};const d=c.user?.id;if(!d)return{success:!1,message:"No user ID returned from database; unable to continue with creation."};const{error:f}=await o.N.from("users").insert([{id:d,discord_username:n,display_name:r,region:s}]);return f?{success:!1,message:"There was a problem with user creation."}:(e.id=d,e.display_name=r,e.region_id=s,e.username=i,e.runs=[],{success:!0})},i=async()=>(await o.N.auth.signOut(),e.id=null,e.display_name=null,e.region_id=null,e.runs=[],{success:!0}),c=async()=>{const{data:t}=await o.N.auth.getSession(),n=t.session;if(n&&n.user){e.id=n.user.id;const t=n.user.email;t&&t.endsWith("@placeholder.xyz")&&(e.username=t.replace("@placeholder.xyz","")),await d()}},l=async()=>{const{data:t,error:n}=await o.N.from("user_runs").select("\n        id,\n        exercise_group_id,\n        created_at,\n        notes,\n        exercise_groups (\n          name\n        ),\n        run_results (\n          id,\n          score,\n          time_taken,\n          exercise_id,\n          exercises (\n            name,\n            ordering,\n            max_points,\n            par_time\n          )\n        )").eq("alt_user_id",e.alt).order("created_at",{ascending:!1});n?console.error("Error fetching runs:",n.message):e.runs=t},d=async()=>{const{data:t,error:n}=await o.N.from("users").select("display_name, region, alt_id").eq("id",e.id).single();!n&&t&&(e.display_name=t.display_name,e.region_id=t.region,e.alt=t.alt_id),l()},f=()=>{},p=(0,s.EW)((()=>e.runs??[])),m=async t=>{if(t!==e.display_name){const{error:n}=await o.N.from("users").update({display_name:t}).eq("id",e.id);return n?{success:!1}:(e.display_name=t,{success:!0})}},h=async(e,t)=>{const n=await o.N.auth.getSession(),r=n.data.session?.user?.email,{error:a}=await o.N.auth.signInWithPassword({email:r,password:t});if(a)return{success:!1,message:"Current password is incorrect."};const{error:s}=await o.N.auth.updateUser({password:e.value});return s?{success:!1}:{success:!0,message:"Failed to update password. Please try again."}};return{userData:e,loginUser:n,signupUser:r,signOut:i,initAuth:c,retrieveUserData:f,allUserRuns:p,fetchProfile:d,fetchRuns:l,updateDisplayName:m,updatePassword:h}}))},7727:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});n(4114),n(8111),n(2489),n(1701);var r=n(2261),a=n(144);const s=(0,r.nY)("snackbar",(()=>{const e=(0,a.KR)([]),t=(0,a.KR)(0),n=(n="message",r="red",a=-1)=>{const i=t.value++;let u={id:i,message:n,color:r,timeout:a,show:!0,buttons:[]};e.value.push(u),-1===a&&u.buttons.push({id:1,text:"Dismiss",action:()=>{s(i)},color:"white"}),a&&a>0&&setTimeout((()=>{o(i)}),a)},r=()=>{e.value=[]},s=t=>{e.value=e.value.map((function(e){return e.id===t&&(e.show=!1),e})),e.value=e.value.filter((function(e){return e.id!=t}))},o=t=>{e.value=e.value.filter((e=>e.id!==t))};return{snackbars:e,addSnackbar:n,clearSnackbars:r,dismissPersistentSnackbar:s,removeSnackbar:o}}))},9648:function(e,t,n){"use strict";e.exports=n.p+"img/chapter_logo.eed068fe.png"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,s){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],s=e[l][2];for(var i=!0,u=0;u<r.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(i=!1,s<o&&(o=s));if(i){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){o[e]=function(){return r[e]}}));return o["default"]=function(){return r},n.d(s,o),s}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{311:"131f10cc",359:"bb935b91",553:"2fcd8954",593:"1cbcd9f1",681:"acb2ab03",828:"1a499979"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".6cef1b0e.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="tracker:";n.l=function(r,a,s,o){if(e[r])e[r].push(a);else{var i,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[a];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/tracker/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,a,s){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",n.nc&&(o.nonce=n.nc);var i=function(n){if(o.onerror=o.onload=null,"load"===n.type)a();else{var r=n&&n.type,i=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+i+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=r,u.request=i,o.parentNode&&o.parentNode.removeChild(o),s(u)}};return o.onerror=o.onload=i,o.href=t,r?r.parentNode.insertBefore(o,r.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){a=o[r],s=a.getAttribute("data-href");if(s===e||s===t)return a}},r=function(r){return new Promise((function(a,s){var o=n.miniCssF(r),i=n.p+o;if(t(o,i))return a();e(r,i,null,a,s)}))},a={524:0};n.f.miniCss=function(e,t){var n={681:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=s);var o=n.p+n.u(t),i=new Error,u=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}};n.l(o,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,o=r[0],i=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(u)var l=u(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunktracker"]=self["webpackChunktracker"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(4323)}));r=n.O(r)})();
//# sourceMappingURL=app.343d61f0.js.map