"use strict";(self["webpackChunktracker"]=self["webpackChunktracker"]||[]).push([[553],{1553:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var s=l(6768),t=l(4232),u=l(144),d=l(7719),r=l(7727);const n={class:"text-caption mt-1 pl-1"};var i={__name:"EditAccount",setup(e){const a=(0,d.k)(),l=(0,r.e)(),i=(0,u.KR)(null),o=(0,u.KR)(null),c=(0,u.KR)(a.userData.display_name),v=(0,u.KR)(!1),b=(0,u.KR)(null),p=(0,u.KR)(null),m=(0,u.KR)(null),f=(0,u.KR)(!1),k=(0,s.EW)((()=>/[A-Z]/.test(p.value))),g=(0,s.EW)((()=>/\d/.test(p.value))),_=(0,s.EW)((()=>!!(p.value&&p.value.length>=8))),y=(0,s.EW)((()=>null!=m.value&&p.value===m.value)),F=(0,u.Kh)({display_name:[e=>!!e||"A display name of some sort is required."],pass:[e=>!!e||"A password is required.",()=>k.value||"A bit stronger...",()=>g.value||"A bit stronger...",()=>_.value||"A bit stronger..."],confirm_pass:[()=>y.value||"Passwords do not match."],current_pass:[e=>!!e||"This field is required."]}),w=async()=>{const{valid:e}=await i.value.validate();if(!e)return;v.value=!0;let s=await a.updateDisplayName(c.value);s.success?l.addSnackbar("Display name updated successfully!","green",5e3):l.addSnackbar("There was a problem updating your display name. Please try again.","red",-1),v.value=!1},h=async()=>{const{valid:e}=await o.value.validate();if(!e)return;f.value=!0;let s=await a.updatePassword(m.value,b.value);s.success?l.addSnackbar("Password updated!","green",5e3):l.addSnackbar(s.message,"red",-1),f.value=!1};return(e,a)=>{const l=(0,s.g2)("v-card-title"),u=(0,s.g2)("v-text-field"),d=(0,s.g2)("v-col"),r=(0,s.g2)("v-btn"),y=(0,s.g2)("v-row"),V=(0,s.g2)("v-form"),x=(0,s.g2)("v-card-text"),A=(0,s.g2)("v-divider"),C=(0,s.g2)("v-spacer"),K=(0,s.g2)("v-card-actions"),P=(0,s.g2)("v-card"),R=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(R,null,{default:(0,s.k6)((()=>[(0,s.bF)(P,{class:"pa-4",elevation:"2"},{default:(0,s.k6)((()=>[(0,s.bF)(l,null,{default:(0,s.k6)((()=>a[4]||(a[4]=[(0,s.eW)("Edit Account")]))),_:1}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.bF)(V,{ref_key:"newDisplayForm",ref:i},{default:(0,s.k6)((()=>[(0,s.bF)(y,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.bF)(d,{cols:"12",md:"8",class:"pb-0"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),label:"Display Name",variant:"outlined",disabled:v.value,rules:F.display_name},null,8,["modelValue","disabled","rules"])])),_:1}),(0,s.bF)(d,{cols:"12",class:"pt-0 text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(r,{color:"primary",onClick:w,variant:"outlined",loading:v.value,disabled:v.value},{default:(0,s.k6)((()=>a[5]||(a[5]=[(0,s.eW)("Change Display Name")]))),_:1},8,["loading","disabled"])])),_:1})])),_:1})])),_:1},512)])),_:1}),(0,s.bF)(A,{class:"my-4"}),(0,s.bF)(x,null,{default:(0,s.k6)((()=>[(0,s.bF)(V,{ref_key:"newPassForm",ref:o},{default:(0,s.k6)((()=>[(0,s.bF)(y,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.bF)(d,{cols:"12",md:"8",class:"py-0"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),type:"password",label:"Current Password",variant:"outlined",disabled:f.value},null,8,["modelValue","disabled"])])),_:1}),(0,s.bF)(d,{cols:"12",md:"8",class:"pt-0"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),type:"password",label:"New Password",variant:"outlined",disabled:f.value,"hide-details":"",rules:F.pass},null,8,["modelValue","disabled","rules"]),(0,s.Lk)("div",n,[(0,s.Lk)("div",{class:(0,t.C4)(k.value?"text-success":"text-error")}," At least one capital letter ",2),(0,s.Lk)("div",{class:(0,t.C4)(g.value?"text-success":"text-error")}," At least one number ",2),(0,s.Lk)("div",{class:(0,t.C4)(_.value?"text-success":"text-error")}," At least 8 characters long ",2)])])),_:1}),(0,s.bF)(d,{cols:"12",md:"8",class:"py-0"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e),type:"password",label:"Confirm New Password",variant:"outlined",disabled:f.value},null,8,["modelValue","disabled"])])),_:1}),(0,s.bF)(d,{cols:"12",class:"pt-0 text-center"},{default:(0,s.k6)((()=>[(0,s.bF)(r,{color:"primary",variant:"outlined",onClick:h,loading:f.value,disabled:f.value,rules:F.confirm_pass},{default:(0,s.k6)((()=>a[6]||(a[6]=[(0,s.eW)(" Change Password ")]))),_:1},8,["loading","disabled","rules"])])),_:1})])),_:1})])),_:1},512)])),_:1}),(0,s.bF)(K,null,{default:(0,s.k6)((()=>[(0,s.bF)(C)])),_:1})])),_:1})])),_:1})}}};const o=i;var c=o}}]);
//# sourceMappingURL=553.2fcd8954.js.map