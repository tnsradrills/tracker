"use strict";(self["webpackChunktracker"]=self["webpackChunktracker"]||[]).push([[549],{3549:function(e,l,a){a.r(l),a.d(l,{default:function(){return y}});var t=a(6768),n=a(144),s=a(9648),u=(a(4114),a(7719)),o=a(7727),i=a(1387),r={__name:"LoginPage",emits:["backToMain"],setup(e,{emit:l}){const a=(0,i.rd)(),s=(0,u.k)(),r=(0,o.e)(),d=(0,n.KR)(null),c=(0,n.KR)(null),v=(0,n.KR)(null),g=(0,n.KR)(!1),k=l,b=(0,n.Kh)({username:[e=>!!e||"Your username is required."],pass:[e=>!!e||"Your password is required."]}),m=(0,n.KR)(!1),f=async()=>{const{valid:e}=await v.value.validate();if(!e)return;g.value=!0;const l=await s.loginUser(d.value,c.value);l.success?(a.push({name:"Dashboard"}),g.value=!1):r.addSnackbar(l.message,"red-lighten-1",-1)};return(e,l)=>{const a=(0,t.g2)("v-text-field"),n=(0,t.g2)("v-col"),s=(0,t.g2)("v-row"),u=(0,t.g2)("v-form"),o=(0,t.g2)("v-btn");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{ref_key:"loginForm",ref:v},{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),label:"Discord Name","persistent-hint":"",hint:"What you provided when you first signed up, real or not.",rules:b.username},null,8,["modelValue","rules"])])),_:1}),(0,t.bF)(n,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),label:"Password",type:m.value?"text":"password","prepend-inner-icon":"mdi-lock",rules:b.pass,"append-inner-icon":m.value?"mdi mdi-eye-closed":"mdi mdi-eye-outline","onClick:appendInner":l[2]||(l[2]=e=>m.value=!m.value)},null,8,["modelValue","type","rules","append-inner-icon"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1}),(0,t.bF)(s,{justify:"space-around"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{cols:"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{size:"large",onClick:l[3]||(l[3]=e=>k("backToMain"))},{default:(0,t.k6)((()=>l[4]||(l[4]=[(0,t.eW)(" Back ")]))),_:1})])),_:1}),(0,t.bF)(n,{cols:"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{size:"large",color:"primary",onClick:f,disabled:g.value,loading:g.value},{default:(0,t.k6)((()=>l[5]||(l[5]=[(0,t.eW)(" Login ")]))),_:1},8,["disabled","loading"])])),_:1})])),_:1})])}}};const d=r;var c=d,v=a(4232),g=a(8648);const k={class:"text-caption mt-1 pl-4"};var b={__name:"SignupPage",emits:["backToMain"],setup(e,{emit:l}){const a=(0,i.rd)(),s=(0,u.k)(),r=(0,g.n)(),d=(0,o.e)(),c=(0,n.KR)(null),b=(0,n.KR)(null),m=(0,n.KR)(null),f=(0,n.KR)(null),p=(0,n.KR)(null),_=(0,n.KR)(!1),F=l,h=(0,t.EW)((()=>/[A-Z]/.test(f.value))),y=(0,t.EW)((()=>/\d/.test(f.value))),x=(0,t.EW)((()=>!!(f.value&&f.value.length>=8))),w=(0,n.Kh)({username:[e=>!!e||"Your discord name or some manner of username is required."],display:[e=>!!e||"A display name is required (so we can celebrate progress with you!)"],region:[e=>!!e||"Your region is required."],pass:[e=>!!e||"A password is required.",()=>h.value||"A bit stronger...",()=>y.value||"A bit stronger...",()=>x.value||"A bit stronger..."]}),R=(0,n.KR)(!1),W=async()=>{const{valid:e}=await p.value.validate();if(!e)return;_.value=!0;const l=await s.signupUser(c.value,b.value,f.value,m.value);l.success?(a.push({name:"Dashboard"}),_.value=!1):d.addSnackbar(l.message,"red-lighten-1",-1)};return(e,l)=>{const a=(0,t.g2)("v-text-field"),s=(0,t.g2)("v-col"),u=(0,t.g2)("v-select"),o=(0,t.g2)("v-row"),i=(0,t.g2)("v-btn"),d=(0,t.g2)("v-form");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(o,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{ref_key:"signupForm",ref:p},{default:(0,t.k6)((()=>[(0,t.bF)(o,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),label:"Discord Name","persistent-hint":"",hint:"Your real one or not, this is what will act as your username to log in with going forward, so remember it!",rules:w.username},null,8,["modelValue","rules"])])),_:1}),(0,t.bF)(s,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value=e),label:"Display Name","persistent-hint":"",hint:"How you'd like to be seen on leaderboards.",rules:w.display},null,8,["modelValue","rules"])])),_:1}),(0,t.bF)(s,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"Region",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),items:(0,n.R1)(r).regionListData.list,"item-title":"name","item-value":"id","persistent-hint":"",hint:"Whereabouts you are in the state.",loading:(0,n.R1)(r).regionListData.loading,rules:w.region},null,8,["modelValue","items","loading","rules"])])),_:1}),(0,t.bF)(s,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=e=>f.value=e),label:"Password",type:R.value?"text":"password","prepend-inner-icon":"mdi-lock",rules:w.pass,"persistent-hint":"",hint:h.value&&y.value&&x.value?"That got it!":"No fancy authentication on this site, so make it strong-ish.","append-inner-icon":R.value?"mdi mdi-eye-closed":"mdi mdi-eye-outline","onClick:appendInner":l[4]||(l[4]=e=>R.value=!R.value)},null,8,["modelValue","type","rules","hint","append-inner-icon"]),(0,t.Lk)("div",k,[(0,t.Lk)("div",{class:(0,v.C4)(h.value?"text-success":"text-error")}," At least one capital letter ",2),(0,t.Lk)("div",{class:(0,v.C4)(y.value?"text-success":"text-error")}," At least one number ",2),(0,t.Lk)("div",{class:(0,v.C4)(x.value?"text-success":"text-error")}," At least 8 characters long ",2)])])),_:1})])),_:1}),(0,t.bF)(o,{justify:"space-around"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{cols:"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{size:"large",onClick:l[5]||(l[5]=e=>F("backToMain"))},{default:(0,t.k6)((()=>l[6]||(l[6]=[(0,t.eW)(" Back ")]))),_:1})])),_:1}),(0,t.bF)(s,{cols:"auto"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{size:"large",color:"primary",onClick:W,disabled:_.value,loading:_.value},{default:(0,t.k6)((()=>l[7]||(l[7]=[(0,t.eW)(" Submit ")]))),_:1},8,["disabled","loading"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])}}};const m=b;var f=m;const p={class:"landing-background fill-height d-flex align-center justify-center"};var _={__name:"LandingPage",setup(e){const l=(0,n.KR)(!1),a=(0,n.KR)(!1),o=(0,g.n)(),i=(0,u.k)();return(0,t.sV)((()=>{o.retrieveRegionList()})),(e,u)=>{const o=(0,t.g2)("v-img"),r=(0,t.g2)("v-col"),d=(0,t.g2)("v-row"),v=(0,t.g2)("v-icon"),g=(0,t.g2)("v-btn"),k=(0,t.g2)("v-divider"),b=(0,t.g2)("v-slide-x-transition"),m=(0,t.g2)("v-card-text"),_=(0,t.g2)("v-card"),F=(0,t.g2)("v-container");return(0,t.uX)(),(0,t.CE)("div",p,[(0,n.R1)(i).userData.id?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(F,{key:0},{default:(0,t.k6)((()=>[(0,t.bF)(d,{justify:"center"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{cols:"12",class:"text-center"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{src:(0,n.R1)(s),contain:"",height:"150px",class:"mb-4"},null,8,["src"]),u[4]||(u[4]=(0,t.Lk)("h1",{class:"text-h4 font-weight-bold"}," Welcome to the TNSRA Progress Tracker ",-1))])),_:1})])),_:1}),(0,t.bF)(d,{justify:"center"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{cols:"12",md:"6"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{class:"mx-auto",elevation:"8",rounded:"xl"},{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,{mode:"out-in"},{default:(0,t.k6)((()=>[l.value||a.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(d,{key:0},{default:(0,t.k6)((()=>[(0,t.bF)(r,{cols:"12",class:"text-center text-h6"},{default:(0,t.k6)((()=>u[5]||(u[5]=[(0,t.eW)(" Returning User? ")]))),_:1}),(0,t.bF)(r,{cols:"12",class:"d-flex justify-center pt-1"},{default:(0,t.k6)((()=>[(0,t.bF)(g,{size:"large",color:"primary",onClick:u[0]||(u[0]=e=>l.value=!0),class:"mx-2"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{start:""},{default:(0,t.k6)((()=>u[6]||(u[6]=[(0,t.eW)("mdi-login")]))),_:1}),u[7]||(u[7]=(0,t.eW)(" Login "))])),_:1})])),_:1}),(0,t.bF)(k,{class:"my-4"}),(0,t.bF)(r,{cols:"12",class:"text-center text-h6 pt-1 pb-2"},{default:(0,t.k6)((()=>u[8]||(u[8]=[(0,t.eW)("New User?")]))),_:1}),(0,t.bF)(r,{cols:"12",class:"d-flex justify-center"},{default:(0,t.k6)((()=>[(0,t.bF)(g,{color:"secondary",size:"large",onClick:u[1]||(u[1]=e=>a.value=!0),class:"mx-2"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{start:""},{default:(0,t.k6)((()=>u[9]||(u[9]=[(0,t.eW)("mdi-account-plus")]))),_:1}),u[10]||(u[10]=(0,t.eW)(" Sign Up "))])),_:1})])),_:1})])),_:1})),l.value?((0,t.uX)(),(0,t.Wv)(c,{onBackToMain:u[2]||(u[2]=e=>l.value=!1),key:1})):(0,t.Q3)("",!0),a.value?((0,t.uX)(),(0,t.Wv)(f,{onBackToMain:u[3]||(u[3]=e=>a.value=!1),key:2})):(0,t.Q3)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}))])}}},F=a(1241);const h=(0,F.A)(_,[["__scopeId","data-v-6cf30fef"]]);var y=h},8648:function(e,l,a){a.d(l,{n:function(){return u}});var t=a(2261),n=a(144),s=a(7082);const u=(0,t.nY)("region",(()=>{const e=(0,n.Kh)({list:[],loading:!0}),l=async()=>{e.list=[],e.loading=!0;const{data:l,error:a}=await s.N.from("regions").select();l?(e.list=l,e.loading=!1):console.log(a)};return{regionListData:e,retrieveRegionList:l}}))}}]);
//# sourceMappingURL=549.e1f932e4.js.map