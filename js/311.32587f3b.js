"use strict";(self["webpackChunktracker"]=self["webpackChunktracker"]||[]).push([[311],{3358:function(e,t,a){a.d(t,{v:function(){return n}});a(8111),a(2489);var r=a(2261),l=a(144),s=a(6768),i=a(7082);const n=(0,r.nY)("exercise",(()=>{const e=(0,l.Kh)({list:[{name:"All",id:0}],loading:!0}),t=(0,l.KR)([]),a=(0,l.Kh)({group_id:null,exercises:[]}),r=async()=>{const{data:t}=await i.N.from("exercise_groups").select("*");if(t){const a={id:0,name:"All"},r=[a,...t].sort(((e,t)=>e.id-t.id));e.list=r,e.loading=!1}},n=(0,s.EW)((()=>e.list.filter((e=>0!=e.id)))),o=async()=>{const{data:e}=await i.N.from("exercises").select("*").order("group_id").order("ordering");e&&(t.value=e)};return{exerciseGroupData:e,createSelectableGroupsForNewRun:n,allExercises:t,newRunRecording:a,getExerciseGroups:r,getAllExercises:o}}))},6311:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});a(8111),a(2489),a(1701),a(8237),a(3579);var r=a(6768),l=a(144),s=a(4232),i=a(7719),n=a(3358);const o=["colspan"],u={key:1,class:"font-weight-bold"};var c={__name:"MainTable",props:{viewingGroup:{type:Number,required:!0},data:{type:Array,required:!0}},setup(e){const t=e,a=[{title:"Date",value:"created_at_unix",sortable:!0},{title:"Exercise Group",value:"group_name",sortable:!0},{title:"Total Score",value:"total_score",sortable:!0}],i=(0,l.KR)([]),n=e=>e.exercises.par_time&&e.time_taken?e.time_taken+" / "+e.exercises.par_time+" seconds":e.time_taken?e.time_taken+" seconds":"N/A";return(e,l)=>{const c=(0,r.g2)("v-card-title"),d=(0,r.g2)("v-data-table"),_=(0,r.g2)("v-card-text"),m=(0,r.g2)("v-card");return(0,r.uX)(),(0,r.Wv)(m,{elevation:"2"},{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>l[0]||(l[0]=[(0,r.eW)("History")]))),_:1}),(0,r.bF)(d,{headers:a,items:t.data,"items-per-page":10,"expand-on-click":"","show-expand":"","item-value":"id",class:"elevation-1",expanded:i.value,"hide-default-footer":""},{"item.created_at_unix":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(e.created_at),1)])),"item.avg_time_per_string":(0,r.k6)((({value:e})=>[(0,r.eW)((0,s.v_)(e+" seconds"),1)])),"item.total_score":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(e.total_score+" / "+e.max_possible_score),1)])),"expanded-row":(0,r.k6)((({item:e})=>[(0,r.Lk)("tr",null,[(0,r.Lk)("td",{colspan:a.length,class:"pa-4"},[(0,r.bF)(m,{flat:"",class:"mx-2 my-2"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{class:"text-h6 font-weight-bold"},{default:(0,r.k6)((()=>[(0,r.eW)(" Run Details for "+(0,s.v_)(e.group_name)+" ("+(0,s.v_)(e.created_at)+") ",1)])),_:2},1024),(0,r.bF)(_,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{items:e.original.run_results,headers:[{title:"Exercise",value:"name"},{title:"Score",value:"score"},{title:"Time Taken",value:"time_taken"},{title:"Shot Hit Factor",value:"hit_factor"},{title:"Baseline Hit Factor",value:"baseline_hf"}],class:"elevation-1","hide-default-footer":"",dense:""},{"item.name":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(e.exercises?.name||"Unnamed Drill"),1)])),"item.score":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(e.exercises?.max_points?e.score+" / "+e.exercises?.max_points:e.score),1)])),"item.time_taken":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(n(e)),1)])),"item.hit_factor":(0,r.k6)((({item:e})=>[e.exercises?.par_time?((0,r.uX)(),(0,r.CE)("span",{key:0,class:(0,s.C4)(["font-weight-bold",e.hit_factor>=e.baseline_hf?"text-green":"text-red"])},(0,s.v_)(e.hit_factor),3)):((0,r.uX)(),(0,r.CE)("span",u,(0,s.v_)(e.hit_factor),1))])),"item.baseline_hf":(0,r.k6)((({item:e})=>[(0,r.eW)((0,s.v_)(e.baseline_hf??"No Par Set"),1)])),_:2},1032,["items"])])),_:2},1024)])),_:2},1024)],8,o)])])),_:1},8,["items","expanded"])])),_:1})}}};const d=c;var _=d,m=(a(116),{__name:"SparkLine",props:{data:{type:Array,required:!0},viewingGroup:{type:Number,required:!0},groupNames:{type:Array,required:!0}},setup(e){const t=e,a=(0,r.EW)((()=>{const e=0==t.viewingGroup?t.data.map((e=>parseFloat(e.total_score_percentage))):t.data.map((e=>parseFloat(e.total_score))),a=e.filter((e=>"number"===typeof e&&!isNaN(e)));return a.slice(0,10).reverse()})),l=["#1feaea","#ffd200","#f72047"],i=(0,r.EW)((()=>a.value.map((e=>0===t.viewingGroup?`${e}%`:`${e}`)))),n=(0,r.EW)((()=>{if(0==t.viewingGroup)return"Overall Score Percentage Trend";{const e=t.groupNames.find((e=>e.id===t.viewingGroup))?.name||"Unknown";return"Score Trend For "+e}}));return(e,t)=>{const o=(0,r.g2)("v-card-title"),u=(0,r.g2)("v-sparkline"),c=(0,r.g2)("v-card-text"),d=(0,r.g2)("v-card");return(0,r.uX)(),(0,r.Wv)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,s.v_)(n.value),1)])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,{"auto-line-width":!1,fill:!0,gradient:l,"gradient-direction":"top","line-width":"2","model-value":a.value,padding:"14",smooth:"10","stroke-linecap":"round","auto-draw":!0,labels:i.value},null,8,["model-value","labels"])])),_:1})])),_:1})}}});const p=m;var v=p,g=a(2834);const f={class:"text-h4 font-weight-bold text-center"},x={class:"text-h6 text-center d-flex justify-center align-center"},k={class:"text-h4 font-weight-bold text-center"};var b={__name:"DashboardPage",setup(e){const{smAndUp:t}=(0,g._F)(),a=(0,i.k)(),o=(0,n.v)(),u=(0,l.KR)(0),c=(0,r.EW)((()=>{const e=a.userData.runs??[];return 0===u.value?e:e.filter((e=>e.exercise_group_id===u.value))})),d=(0,r.EW)((()=>{const e=c.value.filter((e=>e.run_results.some((e=>"number"===typeof e.score&&"number"===typeof e.exercises?.max_points))));if(!e.length)return"N/A";const t=e.reduce(((e,t)=>{const{total:a,max:r}=t.run_results.reduce(((e,t)=>("number"===typeof t.score&&"number"===typeof t.exercises?.max_points&&(e.total+=t.score,e.max+=t.exercises.max_points),e)),{total:0,max:0});return e+(r>0?a/r*100:0)}),0);return(t/e.length).toFixed(1)})),m=(0,r.EW)((()=>{const e=c.value.map((e=>{const{total:t,max:a}=e.run_results.reduce(((e,t)=>("number"===typeof t.score&&"number"===typeof t.exercises?.max_points&&(e.total+=t.score,e.max+=t.exercises.max_points),e)),{total:0,max:0});return a>0?t/a*100:null})).filter((e=>null!==e));if(e.length<2)return"N/A";const t=e.reduce(((e,t)=>e+t),0)/e.length,a=e.reduce(((e,a)=>e+Math.pow(a-t,2)),0)/e.length,r=Math.sqrt(a);return(100-r).toFixed(1)})),p=(0,r.EW)((()=>c.value.map((e=>{let t=0,a=0,r=0;const l=e.run_results.map((e=>{const l=e.exercises?.max_points||0,s=e.exercises?.par_time||null,i=e.score,n=e.time_taken;return r+=l,t+=i,a+=n,{...e,hit_factor:n?(i/n).toFixed(2):null,baseline_hf:s&&l?(l/s).toFixed(2):null}})),s=t/a,i=r?(t/r*100).toFixed(2):"N/A";return{id:e.id,created_at:new Date(e.created_at).toLocaleDateString(),created_at_unix:new Date(e.created_at).getTime(),group_name:e.exercise_groups?.name||"Unknown",total_score:t.toFixed(2),total_score_percentage:i,max_possible_score:r.toFixed(2),total_hit_factor:s.toFixed(2),original:{...e,run_results:l}}}))));return(0,r.sV)((()=>{o.getExerciseGroups(),o.getAllExercises()})),(e,a)=>{const i=(0,r.g2)("v-select"),n=(0,r.g2)("v-col"),c=(0,r.g2)("v-row"),g=(0,r.g2)("v-card-title"),b=(0,r.g2)("v-card-text"),h=(0,r.g2)("v-card"),y=(0,r.g2)("v-icon"),F=(0,r.g2)("v-tooltip"),w=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(w,{fluid:""},{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12",md:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),label:"Currently Viewing Exercise Group:",items:(0,l.R1)(o).exerciseGroupData.list,"item-title":"name","item-value":"id",loading:(0,l.R1)(o).exerciseGroupData.loading},null,8,["modelValue","items","loading"])])),_:1})])),_:1}),0==p.value.length?((0,r.uX)(),(0,r.Wv)(c,{key:0,justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12",md:"8"},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Welcome! We're glad you're here.")]))),_:1}),(0,r.bF)(b,null,{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.eW)(" When you're ready, you'll find a link to record your first exercise group run in the top right corner. This site will keep track of the last 10 runs you performed for all of the exercise groups above so you can see your progress over time. ")]))),_:1})])),_:1})])),_:1})])),_:1})):(0,r.Q3)("",!0),p.value.length>1?((0,r.uX)(),(0,r.Wv)(c,{key:1,class:"mt-5"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{elevation:"2",class:"pa-4"},{default:(0,r.k6)((()=>[a[3]||(a[3]=(0,r.Lk)("div",{class:"text-h6 text-center"}," Average Score % Across Last 10 Runs ",-1)),(0,r.Lk)("div",f,(0,s.v_)(d.value)+"% ",1)])),_:1})])),_:1}),(0,r.bF)(n,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{elevation:"2",class:"pa-4"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",x,[a[6]||(a[6]=(0,r.eW)(" Consistency Score ")),(0,l.R1)(t)?((0,r.uX)(),(0,r.Wv)(F,{key:0,location:"top"},{activator:(0,r.k6)((({props:e})=>[(0,r.bF)(y,(0,r.v6)(e,{size:"18",color:"primary",class:"ml-2"}),{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)(" mdi-help-circle-outline ")]))),_:2},1040)])),default:(0,r.k6)((()=>[a[5]||(a[5]=(0,r.Lk)("div",{style:{"max-width":"250px","white-space":"normal"}}," Consistency is calculated by averaging your score percentages and subtracting the standard deviation. A lower variation in scores results in a higher consistency score. ",-1))])),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("div",k,(0,s.v_)(m.value),1)])),_:1})])),_:1})])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(c,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12",md:"8"},{default:(0,r.k6)((()=>[p.value.length>1?((0,r.uX)(),(0,r.Wv)(v,{key:0,data:p.value,"viewing-group":u.value,"group-names":(0,l.R1)(o).exerciseGroupData.list},null,8,["data","viewing-group","group-names"])):1==p.value.length?((0,r.uX)(),(0,r.Wv)(h,{key:1},{default:(0,r.k6)((()=>[(0,r.bF)(b,{class:"text-center"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)(" Go through one more exercise group to start seeing a trendline! ")]))),_:1})])),_:1})):(0,r.Q3)("",!0)])),_:1})])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(_,{"viewing-group":u.value,data:p.value},null,8,["viewing-group","data"])])),_:1})])),_:1})])),_:1})])}}};const h=b;var y=h}}]);
//# sourceMappingURL=311.32587f3b.js.map